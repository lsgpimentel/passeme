<h3 class="form-section"><%= t('.title') %></h3>

<div class="row-fluid">
  <div class="span3 responsive" data-tablet="span12 fix-margin" data-desktop="span8">

    <div class="portlet box green new-time">
      <div class="portlet-title">
        <div class="caption"><i class="icon-coffee"></i><%= t('.new_time') %></div>
        <div class="tools">
          <a href="javascript:;" class="collapse"></a>
        </div>
      </div>
      <div class="portlet-body">

        <div class="row-fluid">

          <div class="span6">
            <div class="input-append bootstrap-timepicker">
              <input class="m-wrap span9 timepicker-24" type="text" placeholder="<%= t('activerecord.attributes.study_time.from') %>" id="time-from" />
              <span class="add-on"><i class="icon-time"></i></span>
            </div>
          </div>

          <div class="span6">
            <div class="input-append bootstrap-timepicker">
              <input class="m-wrap span9 timepicker-24" type="text" placeholder="<%= t('activerecord.attributes.study_time.to') %>" id="time-to" />
              <span class="add-on"><i class="icon-time"></i></span>
            </div>
          </div>

        </div>

        <div class="row-fluid">

          <select id="days" class="span12 select2" placeholder="<%= t('activerecord.attributes.study_time.day') %>" multiple>
            <% t('date.day_names').each_with_index do |day, i| %>
              <option value="<%= Date::DAYNAMES[i].downcase %>"><%= day %></option>
          <% end %>
          </select>
        </div>

        <div class="row-fluid productivity-box form-horizontal">
          <div class="control-group">
            <label class="control-label"><%= t('activerecord.attributes.study_time.productivity') %></label>
            <div class="controls text-center">
              <div id="slider-productivity" class="slider bg-green"></div>
              <span id="slider-productivity-value">3</span>
            </div>
          </div>
        </div>

        <hr />

        <div class="action-new-time">
          <a id="add-time" class="btn green"><%= t('.add_time_button') %></a>
        </div>

      </div>

    </div>

  </div>

  <div class="span9">

    <div class="portlet box yellow">
      <div class="portlet-title">
        <div class="caption"><i class="icon-coffee"></i><%= t('.study_times') %></div>
        <div class="tools">
          <a href="javascript:;" class="collapse"></a>
        </div>
      </div>
      <div class="portlet-body">
        <table class="time-table table table-bordered">
          <thead>
            <tr>
              <% t('date.abbr_day_names').each_with_index do |day, i| %>
                <th data-day="<%= Date::DAYNAMES[i].downcase %>"><%= day %></th>
              <% end %>
            </tr>
          </thead>
          <tbody>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          </tbody>
        </table>

        <table id="hours-table" class="table">
          <tr>
            <% t('date.abbr_day_names').each_with_index do |day, i| %>
              <td data-day="<%= Date::DAYNAMES[i].downcase %>"><strong>Total: </strong>00:00</td>
            <% end %>
          </tr>
        </table>

      </div>
    </div>
  </div>

</div>

<div class="row-fluid">
  <div class="portlet box light-grey new-time">
    <div class="portlet-title">
      <div class="caption"><i class="icon-coffee"></i><%= t('.options') %></div>
      <div class="tools">
        <a href="javascript:;" class="collapse"></a>
      </div>
    </div>
    <div class="portlet-body form-horizontal">
      <div class="row-fluid">

        <div class="span4">
          <%= f.input :block_size, as: :time_picker %>
          <%= f.input :block_interval, as: :time_picker %>
        </div>

        <div class="span4">
          <label class="checkbox">
            <input type="checkbox" name="timetable[use_pomodoro_technique]" id="use-pomodoro-technique" /> <%= t('.use_pomodoro') %>
        </label>

          <div id="pomodoro-technique-block" class="hide">
            <%= f.simple_fields_for :pomodoro_technique do |p| %>
              <%= p.input :time_short_break, as: :time_picker %>
            <%= p.input :time_long_break, as: :time_picker %>
          <% end %>
          </div>
        </div>

        <div class="span4">
          <label class="checkbox">
            <input type="checkbox" name="timetable[use_spaced_repetition]" id="use-spaced-repetition" /> <%= t('.use_repetition') %>
        </label>
          <div id="spaced-repetition-block" class="hide">
            <%= f.input :spaced_repetition_percent_block_size, as: :integer do %>
              <%= f.input_field :spaced_repetition_percent_block_size, class: "m-wrap input-mini" %>
            <span class="percent">%</span>
          <% end %>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<div class="row-fluid">
  <div class="span6">
  </div>
  <div class="span6">
  </div>
</div>

<div id="study-times">
  <%#= f.simple_fields_for :study_times do |s| %>

    <%#= s.hidden_field :day %>
  <%#= s.hidden_field :from, label: false, wrapper_html: { class: "input-append bootstrap-timepicker-component" }, placeholder: "From" %>
  <%#= s.input :to, as: :string, label: false, wrapper_html: { class: "input-append bootstrap-timepicker-component" }, placeholder: "To" %>
  <%#= s.input :productivity, as: :radio_buttons %>

  <%# end %>

</div>
